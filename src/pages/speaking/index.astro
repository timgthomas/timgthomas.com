---
import { getCollection } from 'astro:content'
import Layout from '../../components/layout.astro'

const [{ data: talks }] = await getCollection('talks')
---

<Layout title="Speaking">
  <div role="main">
    <header>
      <h1>Speaking</h1>
    </header>
    <p>
      Interested in having me speak at your next event?{' '}
      <a href="mailto:speaking@timgthomas.com">Get in touch!</a>
    </p>
    <ol class="talk-list">
      {
        talks.map((talk) => (
          <li>
            <figure>
              <img src={`/images/talks/${talk.thumbnail}`} alt={talk.name} />
              <figcaption>
                <h2>{talk.name}</h2>
                <p>{talk.conference}</p>
                <ul>
                  {talk.links.map((link) => (
                    <li>
                      <a href={link.link} target="_blank" rel="noopener">
                        {link.type}
                      </a>
                    </li>
                  ))}
                </ul>
              </figcaption>
            </figure>
          </li>
        ))
      }
    </ol>
  </div>
</Layout>
