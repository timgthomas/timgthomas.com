<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover">
  <title>Fun with Stateful CSS: A View/Edit Screen · Tim G. Thomas</title>
  <link rel="alternate" href="http://feeds.feedburner.com/timgthomas" title="Tim G. Thomas" type="application/rss+xml">
  <link rel="icon" type="image/x-icon" href="/favicon.png">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fira+Sans:300,400,500,700,300italic,400italic,500italic,700italic|Fira+Mono">
  <link rel="stylesheet" href="/css/style.css">
<meta name="generator" content="Hexo 5.4.0"></head>
<body>
  <header role="banner">
    <div class="container">
      <h1><a href="/">Tim <em>G</em> Thomas</a></h1>
      <input id="toggle-nav" type="checkbox">
      <nav>
        <a href="/">Blog</a>
        <a href="/projects">Projects</a>
        <a href="/speaking">Speaking</a>
      </nav>
    </div>
  </header>
  <aside>
    <div class="container">
      <p>I apply holistic design principles to make experiences both usable and beautiful.</p>
      <p class="social">
        <a class="social-github" href="https://github.com/timgthomas" target="_blank" rel="noopener">GitHub</a>
        <a class="social-codepen" href="https://codepen.io/TimGThomas" target="_blank" rel="noopener">CodePen</a>
        <a class="social-dribbble" href="https://dribbble.com/timgthomas" target="_blank" rel="noopener">Dribbble</a>
      </p>
    </div>
  </aside>
  <div role="main">
  <article>
    <header>
      <h1>Fun with Stateful CSS: A View/Edit Screen</h1>
      <p>17 October 2013</p>
    </header>
    <p>I’ve <a href="/2012/05/mute-your-asynchronous-uis-with-stateful-css/">previously blogged</a> about using the concept of “stateful CSS” to indicate when your application is in the middle of a potentially long-running process. In that post, we looked at how to create a simple “view/edit” screen, but we relied on JavaScript to swap out CSS classes. Fortunately, there’s an easier way: using a checkbox!</p>
<h2 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h2><p>We’ll start with some basic HTML. The important things to note here are:</p>
<ul>
<li>Both the “view” and “edit” groups’ fields are contained within two container elements.</li>
<li>Preceding both of those container elements is a lowly checkbox field (more on this later).</li>
<li>Each view also contains a <code>label</code> tag, which will toggle the state of that field.</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;toggle&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: Test<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">for</span>=<span class="string">&quot;toggle&quot;</span>&gt;</span>Edit<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;edit&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>Name:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Test&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">for</span>=<span class="string">&quot;toggle&quot;</span>&gt;</span>Done<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This checkbox field is the key to the whole thing: it will store the state of whether we’re in “edit” mode or not (if it’s checked, we are). We’ll use the <code>label</code> tags in each section to toggle its value, and CSS to show and hide the “view” and “edit” fields based on whether it’s checked.</p>
<h2 id="Behavior-in-style"><a href="#Behavior-in-style" class="headerlink" title="Behavior (in style!)"></a>Behavior (in style!)</h2><p>The CSS is strikingly minimal:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.edit</span>, <span class="selector-id">#toggle</span> &#123; <span class="attribute">display</span>: none; &#125;</span><br><span class="line"><span class="selector-id">#toggle</span><span class="selector-pseudo">:checked</span> ~ <span class="selector-class">.view</span> &#123; <span class="attribute">display</span>: none; &#125;</span><br><span class="line"><span class="selector-id">#toggle</span><span class="selector-pseudo">:checked</span> ~ <span class="selector-class">.edit</span> &#123; <span class="attribute">display</span>: block; &#125;</span><br></pre></td></tr></table></figure>

<p>First, we hide the “edit” view and the checkbox by default. We then use the <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:checked?redirectlocale=en-US&redirectslug=CSS/:checked"><code>:checked</code></a> and <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/General_sibling_selectors"><code>~</code> (“general sibling”)</a> selectors to hide the “view” panel and show the “edit” panel only when our checkbox-turned-state-machine is checked.</p>
<p><em>Update: After <a href="#comment-1086752051">some feedback</a> that the functionality of the example below was incomplete, editing the “name” property now persists after clicking “Done”.</em></p>
<p data-theme-id="0" data-slug-hash="uAaCe" data-user="TimGThomas" data-default-tab="result" class='codepen'>See the Pen <a target="_blank" rel="noopener" href='https://codepen.io/TimGThomas/pen/uAaCe'>uAaCe</a> by Tim G. Thomas (<a target="_blank" rel="noopener" href='http://codepen.io/TimGThomas'>@TimGThomas</a>) on <a target="_blank" rel="noopener" href='http://codepen.io'>CodePen</a></p>
<script src="https://codepen.io/assets/embed/ei.js"> </script>

<p>In the coming weeks, we’ll see some more UI patterns you can build without JavaScript, so stay tuned!</p>

    <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "@id": "/2013/10/fun-with-stateful-css-a-view-edit-screen/",
    "headline": "Fun with Stateful CSS: A View/Edit Screen",
    "datePublished": "Thu Oct 17 2013 00:00:00 GMT-0500",
    "image": "http://timgthomas.com/images/headshot.png"
  }
</script>

  </article>
  <nav>
    <span class="post-nav-next">
      
        <a href="/2013/10/feature-folders-and-javascript/">Feature Folders and JavaScript</a>
      
    </span>
    <span class="post-nav-prev">
      
        <a href="/2013/10/fun-with-stateful-css-tabs/">Fun with Stateful CSS: Tabs</a>
      
    </span>
  </nav>
  
  <h2>Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.title = 'Fun with Stateful CSS: A View/Edit Screen';
      this.page.url = 'http://timgthomas.com/2013/10/fun-with-stateful-css-a-view-edit-screen/';
      this.page.identifier = '2013/10/fun-with-stateful-css-a-view-edit-screen/index.html';
    };

    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://timgthomas.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>


</div>

  <p id="copyright">&copy; Tim G. Thomas</p>
  
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-49175000-1', 'auto');
  ga('send', 'pageview');
</script>
<script defer data-domain="timgthomas.com" src="https://plausible.io/js/plausible.js"></script>

  
</body>
</html>
